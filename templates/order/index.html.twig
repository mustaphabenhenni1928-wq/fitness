{% extends 'base.html.twig' %}

{% block title %}Mes commandes - Health & Fitness{% endblock %}

{% block body %}
    <div class="container">
        <h1 style="font-size: 2.5rem; font-weight: 700; margin-bottom: 2rem;">Mes commandes</h1>

        {% if orders|length == 0 %}
            <div class="card">
                <div class="card-body" style="text-align: center; padding: 3rem;">
                    <p style="color: var(--gray); font-size: 1.1rem;">
                        Vous n'avez aucune commande pour le moment.
                    </p>
                    <a href="{{ path('app_products') }}" class="btn btn-primary" style="margin-top: 1rem;">
                        Voir les produits
                    </a>
                </div>
            </div>
        {% else %}
            <div class="card">
                <div class="card-body" style="padding: 0;">
                    <div style="overflow-x: auto;">
                        <table style="width: 100%; border-collapse: collapse;">
                            <thead>
                                <tr style="background: #f5f5f5; border-bottom: 2px solid #e0e0e0;">
                                    <th style="padding: 1rem; text-align: left; font-weight: 600;">Produit</th>
                                    <th style="padding: 1rem; text-align: left; font-weight: 600;">Quantité</th>
                                    <th style="padding: 1rem; text-align: left; font-weight: 600;">Prix</th>
                                    <th style="padding: 1rem; text-align: left; font-weight: 600;">Date</th>
                                    <th style="padding: 1rem; text-align: left; font-weight: 600;">Statut</th>
                                </tr>
                            </thead>
                            <tbody>
                                {% for order in orders %}
                                    <tr style="border-bottom: 1px solid #e0e0e0;">
                                        <td style="padding: 1rem;">{{ order.productName }}</td>
                                        <td style="padding: 1rem;">{{ order.quantity }}</td>
                                        <td style="padding: 1rem;">{{ order.price }} €</td>
                                        <td style="padding: 1rem;">{{ order.createdAt|date('d/m/Y à H:i') }}</td>
                                        <td style="padding: 1rem;">
                                            {% if order.status == 'pending' %}
                                                <span style="background: #fff3cd; color: #856404; padding: 0.5rem 1rem; border-radius: 4px; font-weight: 600;">En attente</span>
                                            {% elseif order.status == 'accepted' %}
                                                <span style="background: #d4edda; color: #155724; padding: 0.5rem 1rem; border-radius: 4px; font-weight: 600;">Acceptée</span>
                                            {% elseif order.status == 'refused' %}
                                                <span style="background: #f8d7da; color: #721c24; padding: 0.5rem 1rem; border-radius: 4px; font-weight: 600;">Refusée</span>
                                            {% else %}
                                                <span>{{ order.status }}</span>
                                            {% endif %}
                                        </td>
                                    </tr>
                                {% endfor %}
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        {% endif %}
    </div>
{% endblock %}

